<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Hy's Law Plot — g_hy_law • osprey</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Hy's Law Plot — g_hy_law"><meta name="description" content="A scatter plot typically used to display maximum total bilirubin values (TBL)
versus maximum alanine transaminase (ALT) values."><meta property="og:description" content="A scatter plot typically used to display maximum total bilirubin values (TBL)
versus maximum alanine transaminase (ALT) values."><link rel="stylesheet" href="../consent.css"><script src="../consent.js" type="text/javascript" charset="utf-8"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">osprey</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.17</small>

    <div style="width: 140px; margin-left: 0.5rem;"> <small class="nav-text text-muted me-auto">part of</small> <img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/nest.png?raw=true" alt="NEST" style="height: 30px;"><a href="https://pharmaverse.org/" class="external-link"><img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/pharmaverse.png?raw=true" alt="pharmaverse" style="height: 28px;"></a> </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-reports" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Reports</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-reports"><li><a class="dropdown-item" href="../coverage-report/">Coverage report</a></li>
    <li><a class="dropdown-item" href="../unit-test-report/">Unit test report</a></li>
    <li><a class="dropdown-item" href="../unit-test-report-non-cran/">Non-CRAN unit test report</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/insightsengineering/osprey"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Hy's Law Plot</h1>
      <small class="dont-index">Source: <a href="https://github.com/insightsengineering/osprey/blob/v0.1.17/R/g_hy_law.R" class="external-link"><code>R/g_hy_law.R</code></a></small>
      <div class="d-none name"><code>g_hy_law.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A scatter plot typically used to display maximum total bilirubin values (<code>TBL</code>)
versus maximum alanine transaminase (<code>ALT</code>) values.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">g_hy_law</span><span class="op">(</span></span>
<span>  <span class="va">id</span>,</span>
<span>  <span class="va">term</span>,</span>
<span>  <span class="va">aval</span>,</span>
<span>  <span class="va">arm</span>,</span>
<span>  <span class="va">term_selected</span>,</span>
<span>  <span class="va">anrhi</span>,</span>
<span>  folds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Normal Range"</span>, <span class="st">"Hyperbilirubinemia"</span>, <span class="st">"Possible Hy's Law Range"</span>,</span>
<span>    <span class="st">"Temple's Corollary"</span><span class="op">)</span>,</span>
<span>  caption <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Maximum values are those maximum values that occur post-baseline"</span>,</span>
<span>    <span class="st">"(no time constraints and not necessarily concurrent events)."</span><span class="op">)</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Max. Total Bilirubin vs. Max. Alanine Aminotransferase"</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"Maximum Alanine Aminotransferase (/ULN)"</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">"Maximum Total Bilirubin (/ULN)"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-id">id<a class="anchor" aria-label="anchor" href="#arg-id"></a></dt>
<dd><p>unique subject identifier.</p></dd>


<dt id="arg-term">term<a class="anchor" aria-label="anchor" href="#arg-term"></a></dt>
<dd><p>the term of the observation.</p></dd>


<dt id="arg-aval">aval<a class="anchor" aria-label="anchor" href="#arg-aval"></a></dt>
<dd><p>analysis value.</p></dd>


<dt id="arg-arm">arm<a class="anchor" aria-label="anchor" href="#arg-arm"></a></dt>
<dd><p>treatment arm. Used as fill color in the plot.</p></dd>


<dt id="arg-term-selected">term_selected<a class="anchor" aria-label="anchor" href="#arg-term-selected"></a></dt>
<dd><p>string vector of length 2 - the two terms selected to be
used in the plot. First value corresponds to parameter plotted on the
x-axis. Second value corresponds to that plotted on the y-axis.</p></dd>


<dt id="arg-anrhi">anrhi<a class="anchor" aria-label="anchor" href="#arg-anrhi"></a></dt>
<dd><p>the high limit of normal range.</p></dd>


<dt id="arg-folds">folds<a class="anchor" aria-label="anchor" href="#arg-folds"></a></dt>
<dd><p>numeric vector of length two. Indicates the position of the
reference lines to be drawn. Default c(3, 2) corresponds to a line at
position 3 on the x-axis and 2 on the y-axis.</p></dd>


<dt id="arg-text">text<a class="anchor" aria-label="anchor" href="#arg-text"></a></dt>
<dd><p>string vector of length four with the label to be shown on each
quadrant. First value corresponds to label shown in the bottom left
quadrant. Subsequent values move through the graph clockwise.</p></dd>


<dt id="arg-caption">caption<a class="anchor" aria-label="anchor" href="#arg-caption"></a></dt>
<dd><p>string of text for footnote. Details of methodology can be
shown here.</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>string of text for plot title.</p></dd>


<dt id="arg-xlab">xlab<a class="anchor" aria-label="anchor" href="#arg-xlab"></a></dt>
<dd><p>string of text for x axis label.</p></dd>


<dt id="arg-ylab">ylab<a class="anchor" aria-label="anchor" href="#arg-ylab"></a></dt>
<dd><p>string of text for y axis label.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>plot object</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This graphic is based upon the <code>eDISH</code> (evaluation of Drug Induced Serious
Hepatotoxicity) plot of Watkins et. al. in a 2008 publication from Hepatology.
Maximum values are defined as the maximum post-baseline value at any time
during the entire length of the observation period. Both axes are in log
scale to control for the dispersion of the data. The values are plotted in
'times upper limit of normal' where a value of 1 would mean that the result
was normal. Any value above or below 1 would be considered above the upper
limit or normal or below the upper limit of normal respectively. For
instance, a value of 3 would be read as '3 times the upper limit of normal'.
Reference lines are included to determine various states, based upon clinical
interpretation of the values and includes the following:</p><ul><li><p>Hyperbilirubinemia <code>TBL</code> at least 2 <code>xULN</code> and <code>ALT</code> less than 3 <code>xULN</code></p></li>
<li><p>Normal Range <code>TBL</code> &lt;= 1 <code>xULN</code> and <code>ALT</code> &lt;= 1 <code>xULN</code></p></li>
<li><p>Temple’s Corollary <code>TBL</code> &lt;= 1 <code>xULN</code> and <code>ALT</code> at least 3 <code>xULN</code></p></li>
<li><p>Possible Hy's Law <code>TBL</code> at least 2 <code>xULN</code> and <code>ALT</code> at least 3 <code>xULN</code></p></li>
</ul><p>This plot can easily be adjusted for other lab parameters and reference
ranges as needed. Consultation with a clinical expert to determine which
associations would be clinically meaningful and how to interpret those
associations is recommended.</p>
<p>There is no equivalent STREAM output.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Katie Withycombe (withycok) <a href="mailto:katie.withycombe@roche.com">katie.withycombe@roche.com</a></p>
<p>Amy Franklin (frankla4) <a href="mailto:amy.franklin@roche.com">amy.franklin@roche.com</a></p>
<p>William Holmes (holmesw) <a href="mailto:william.holmes@roche.com">william.holmes@roche.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://insightsengineering.github.io/nestcolor/" class="external-link">nestcolor</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Note: CRP is being used in place of Bilirubin here because this is the only available data</span></span></span>
<span class="r-in"><span><span class="va">adsl</span> <span class="op">&lt;-</span> <span class="fu">osprey</span><span class="fu">::</span><span class="va"><a href="rADSL.html">rADSL</a></span></span></span>
<span class="r-in"><span><span class="va">adlb</span> <span class="op">&lt;-</span> <span class="fu">osprey</span><span class="fu">::</span><span class="va"><a href="rADLB.html">rADLB</a></span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>ANRHI <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 1, - Hy's law template (3 and 2 X ULN)</span></span></span>
<span class="r-in"><span><span class="fu">g_hy_law</span><span class="op">(</span></span></span>
<span class="r-in"><span>  id <span class="op">=</span> <span class="va">adlb</span><span class="op">$</span><span class="va">USUBJID</span>,</span></span>
<span class="r-in"><span>  term <span class="op">=</span> <span class="va">adlb</span><span class="op">$</span><span class="va">PARAMCD</span>,</span></span>
<span class="r-in"><span>  aval <span class="op">=</span> <span class="va">adlb</span><span class="op">$</span><span class="va">AVAL</span>,</span></span>
<span class="r-in"><span>  arm <span class="op">=</span> <span class="va">adlb</span><span class="op">$</span><span class="va">ARM</span>,</span></span>
<span class="r-in"><span>  term_selected <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ALT"</span>, <span class="st">"CRP"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  anrhi <span class="op">=</span> <span class="va">adlb</span><span class="op">$</span><span class="va">ANRHI</span>,</span></span>
<span class="r-in"><span>  folds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Normal Range"</span>, <span class="st">"Hyperbilirubinemia"</span>, <span class="st">"Possible Hy's Law Range"</span>, <span class="st">"Temple's Corollary"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  caption <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"Maximum values are those maximum values that occur"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"post-baseline (no time constraints and not necessarily concurrent events)."</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  title <span class="op">=</span> <span class="st">"Max. Total Bilirubin vs. Max. Alanine Aminotransferase"</span>,</span></span>
<span class="r-in"><span>  xlab <span class="op">=</span> <span class="st">"Maximum Alanine Aminotransferase (/ULN)"</span>,</span></span>
<span class="r-in"><span>  ylab <span class="op">=</span> <span class="st">"Maximum Total Bilirubin (/ULN)"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>All aesthetics have length 1, but the data has 400 rows.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Please consider using `annotate()` or provide this layer with data containing</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   a single row.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>All aesthetics have length 1, but the data has 400 rows.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Please consider using `annotate()` or provide this layer with data containing</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   a single row.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>All aesthetics have length 1, but the data has 400 rows.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Please consider using `annotate()` or provide this layer with data containing</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   a single row.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>All aesthetics have length 1, but the data has 400 rows.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Please consider using `annotate()` or provide this layer with data containing</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   a single row.</span>
<span class="r-plt img"><img src="g_hy_law-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 2, - change the quadrant lines and labels</span></span></span>
<span class="r-in"><span><span class="fu">g_hy_law</span><span class="op">(</span></span></span>
<span class="r-in"><span>  id <span class="op">=</span> <span class="va">adlb</span><span class="op">$</span><span class="va">USUBJID</span>,</span></span>
<span class="r-in"><span>  term <span class="op">=</span> <span class="va">adlb</span><span class="op">$</span><span class="va">PARAMCD</span>,</span></span>
<span class="r-in"><span>  aval <span class="op">=</span> <span class="va">adlb</span><span class="op">$</span><span class="va">AVAL</span>,</span></span>
<span class="r-in"><span>  arm <span class="op">=</span> <span class="va">adlb</span><span class="op">$</span><span class="va">ARM</span>,</span></span>
<span class="r-in"><span>  term_selected <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ALT"</span>, <span class="st">"CRP"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  anrhi <span class="op">=</span> <span class="va">adlb</span><span class="op">$</span><span class="va">ANRHI</span>,</span></span>
<span class="r-in"><span>  folds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">15</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Quadrant 1"</span>, <span class="st">"Quadrant 2"</span>, <span class="st">"Quadrant 3"</span>, <span class="st">"Quadrant 4"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  caption <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"Maximum values are those maximum values that occur"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"post-baseline (no time constraints and not necessarily concurrent events)."</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  title <span class="op">=</span> <span class="st">"Max. Total Bilirubin vs. Max. Alanine Aminotransferase"</span>,</span></span>
<span class="r-in"><span>  xlab <span class="op">=</span> <span class="st">"Maximum Alanine Aminotransferase (/ULN)"</span>,</span></span>
<span class="r-in"><span>  ylab <span class="op">=</span> <span class="st">"Maximum Total Bilirubin (/ULN)"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>All aesthetics have length 1, but the data has 400 rows.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Please consider using `annotate()` or provide this layer with data containing</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   a single row.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>All aesthetics have length 1, but the data has 400 rows.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Please consider using `annotate()` or provide this layer with data containing</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   a single row.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>All aesthetics have length 1, but the data has 400 rows.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Please consider using `annotate()` or provide this layer with data containing</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   a single row.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>All aesthetics have length 1, but the data has 400 rows.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Please consider using `annotate()` or provide this layer with data containing</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   a single row.</span>
<span class="r-plt img"><img src="g_hy_law-2.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="nest">
  <p>osprey is a part of the <strong>NEST</strong> and <a href="https://pharmaverse.org/" class="external-link"><strong>pharmaverse</strong></a>.</p>
</div>
<script type="text/javascript" src="../analytics.js"></script></footer></div>





  </body></html>

